{% extends "base.html" %}
{% block content %}
<h2>Simple Chatbot</h2>
<p>Enter your OpenAI API key, type your message, and get a response. Your data is not stored.</p>

<form method="POST" action="">
  {{ form.csrf_token }}
  <div class="mb-3">
    {% if form.openai_key.data.startswith('sk-') %}
        sk-****<br>
    {% else %}
        OPENAI API KEY. Use ours or use your own!<br>
    {% endif %}
    {{ form.openai_key(class="form-control hidden-key", value="sk-****") }}
  </div>

  <div class="mb-3">
    <label for="user_message">Your Message</label>
    <textarea id="user_message" name="user_message" class="form-control" rows="3"></textarea>
  </div>

  {{ form.submit(class="btn btn-primary") }}
</form>

{% if chatbot_answer %}
<hr>
<h4>Chatbot Response:</h4>
<div class="alert alert-secondary">{{ chatbot_answer }}</div>
{% endif %}
{% endblock %}
